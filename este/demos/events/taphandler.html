<!doctype html>
<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
  <title>este.events.TapHandler</title>
  <link href='../css/default.css' rel='stylesheet'>
  <style>
    .row {
      background-color: #eee;
      border-bottom: solid 1px #ccc;
      margin: 0;
      padding: .5em;
    }
  </style>
  <script src='../../../../closure-library/closure/goog/base.js'></script>
  <script src='../../../../../client/deps.js'></script>
  <script>
    goog.require('este.events.TapHandler');
  </script>
</head>
<body>
  <h1>este.events.TapHandler</h1>
  <button id='dispose'>dispose</button>
  <p>
    <b>Update: use este.events.GestureHandler</b>
  </p>
  <p>Just list of paragraphs to have scrollable content.</p>
  <p>On desktop, nothing interesting. On mobile, it enables tap event, which is
    faster then click. TapHandler handles scrolled content, which is quite
    unique feature. Try fast scroll then stop scroll momentum. If should not
    show alert, because scroll momentum is detected.
  </p>
  <script>
    for(var i = 0; i < 200; i++) {
      var p = document.createElement('p');
      p.className = 'row';
      p.innerHTML = i;
      document.body.appendChild(p);
    };

    var handler = new este.events.TapHandler(document.body);
    este.events.TapHandler.addScrollable(document.body);

    goog.events.listen(handler, 'start', function(e) {
      console.log('start');
    });
    goog.events.listen(handler, 'end', function(e) {
      console.log('end');
    });
    goog.events.listen(handler, 'tap', function(e) {
      console.log('tap');
      if (e.target.tagName != 'P')
        return;
      alert(e.target.innerHTML);
    });

    var disposeBtn = document.getElementById('dispose');
    goog.events.listenOnce(disposeBtn, 'click', function() {
      handler.dispose();
    });

  </script>
</body>